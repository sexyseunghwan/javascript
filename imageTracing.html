<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>

        .img {
            width : 150px;
            height : 150px;
            /* border: 1px solid red; */
            }

        #main {
            position : absolute;
            top : 300px;
            left : 800px;
            /* border : 1px solid black; */
        }
    </style>



</head>
<body>
    
    <div id = "main" style = "position : absolute; top : 300px; left : 800px"><img src="./images/m03.png" alt=""></div>

    <script>

        var body = document.body;
        var main = document.getElementById("main");
        var dx = 800;//이미지 x좌표
        var dy = 300;//이미지 y좌표

        window.onmousemove = function() {
            var cx = event.clientX;
            var cy = event.clientY;
            console.log(cx,cy);     
            console.log((cy-dy) / (dx + 130 - cx));
            

            if (((cx >= dx) && (cx <= dx+65)) && (((cy-dy)/(cx-dx) >= 0) && ((cy-dy)/(cx-dx) <= 1))) {
                dy += 30;
            } else if (((cx >= dx + 65) && (cx <= dx + 130))  && (((dy-cy)/(dx+150-cx) >= -1) && ((dy-cy)/(dx+150-cx) <= 0))) {
                dy += 30;
            } else if (((cy >= dy) && (cy <= dy + 65)) && ((cy-dy)/(cx - dx) >= 1)) {
                dx += 30;
            } else if ( ((cy >= dy + 65) && (cy <= dy + 130)) && ((cy-dy-130)/(cx-dx) <= -1)) {
                dx += 30;
            } else if (((cx >= dx) && (cx <= dx+65)) && (((cy-dy-130)/(cx-dx) >= -1) && ((cy-dy-130)/(cx-dx) <= 0))) {
                dy -= 30;
            } else if ( ((cx >= dx + 65) && (cx <= dx + 130)) && ( ((dy + 130 - cy)/(dx + 130 - cx) >= 0) && ((dy + 130 - cy)/(dx + 130 - cx) <= 1))) {
                dy -= 30;
            } else if ( ((cy >= dy + 65) && (cy <= dy + 130)) && (((dy + 130 - cy)/(dx+130 -cx))>=1)) {
                dx -= 30;
            } else if ( ((cy >= dy) && (cy <= dy + 65)) && (((dy - cy)/(dx + 130 - cx)) <= -1)) {
                dx -= 30;
            }
            
            
            
            main.style.top = dy + "px";
            main.style.left = dx + "px";
               
        }


    </script>



</body>
</html>